<!DOCTYPE HTML>
<html lang="zh-TW" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>TLS - DLTDOJO3 第三新熵熱踢道場</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li><a href="../index.html"><strong aria-hidden="true">1.</strong> DLTDOJO3</a></li><li><a href="../k19.html"><strong aria-hidden="true">2.</strong> k19.dltdojo</a></li><li><a href="../poc.html"><strong aria-hidden="true">3.</strong> POC 概念驗證</a></li><li><a href="../taichu-raw/index.html"><strong aria-hidden="true">4.</strong> POC TAICHU-RAW</a></li><li><ol class="section"><li><a href="../taichu-raw/apache-big5.html"><strong aria-hidden="true">4.1.</strong> HTTPS: Apache Big5</a></li><li><a href="../taichu-raw/openapiv3.html"><strong aria-hidden="true">4.2.</strong> HTTPS: OpenAPI v3</a></li><li><a href="../taichu-raw/others.html"><strong aria-hidden="true">4.3.</strong> 其他</a></li></ol></li><li><a href="../mad-white/index.html"><strong aria-hidden="true">5.</strong> POC MAD-WHITE</a></li><li><ol class="section"><li><a href="../mad-white/code-server.html"><strong aria-hidden="true">5.1.</strong> VS Code Server</a></li></ol></li><li><a href="../mad-red/index.html"><strong aria-hidden="true">6.</strong> POC MAD-RED</a></li><li><ol class="section"><li><a href="../mad-red/veloren/index.html"><strong aria-hidden="true">6.1.</strong> Veloren 多人RPG體素遊戲</a></li><li><a href="../mad-red/veloren/chat-dltdojo-bip39/index.html"><strong aria-hidden="true">6.2.</strong> 聊天測試 BIP39</a></li><li><a href="../mad-red/vox/index.html"><strong aria-hidden="true">6.3.</strong> Voxel 組件開發編輯</a></li><li><a href="../mad-red/vox/projects.html"><strong aria-hidden="true">6.4.</strong> Voxel 相關專案</a></li></ol></li><li><a href="../crypto-assets.html"><strong aria-hidden="true">7.</strong> Virtual Asset</a></li><li><ol class="section"><li><a href="../virtual-asset/aec.html"><strong aria-hidden="true">7.1.</strong> Anonymity-Enhanced Cryptocurrency</a></li></ol></li><li><a href="../dlt.html"><strong aria-hidden="true">8.</strong> DLT</a></li><li><ol class="section"><li><a href="../dlt/hl-fabric.html"><strong aria-hidden="true">8.1.</strong> Hyperledger Fabric</a></li><li><a href="../dlt/hl-sawtooth.html"><strong aria-hidden="true">8.2.</strong> Hyperledger Sawtooth</a></li><li><a href="../dlt/hl-burrow.html"><strong aria-hidden="true">8.3.</strong> HyperLedger Burrow</a></li><li><a href="../dlt/hl-besu.html"><strong aria-hidden="true">8.4.</strong> HyperLedger Besu</a></li><li><a href="../dlt/polkadot.html"><strong aria-hidden="true">8.5.</strong> Polkadot</a></li><li><a href="../dlt/libra19.html"><strong aria-hidden="true">8.6.</strong> Libra</a></li><li><a href="../dlt/lnrpc.html"><strong aria-hidden="true">8.7.</strong> lightning network</a></li><li><a href="../dlt/exonum.html"><strong aria-hidden="true">8.8.</strong> exonum</a></li><li><a href="../dlt/trisa.html"><strong aria-hidden="true">8.9.</strong> TRISA</a></li><li><a href="../dlt/xuperchain.html"><strong aria-hidden="true">8.10.</strong> xuperchain</a></li><li><a href="../dlt/trustwallet.html"><strong aria-hidden="true">8.11.</strong> TrustWallet</a></li><li><a href="../dlt/openbazaar.html"><strong aria-hidden="true">8.12.</strong> OpenBazaar</a></li></ol></li><li><a href="../dao.html"><strong aria-hidden="true">9.</strong> DAO</a></li><li><ol class="section"><li><a href="../dao/aragon.html"><strong aria-hidden="true">9.1.</strong> Aragon</a></li><li><a href="../dao/joystream.html"><strong aria-hidden="true">9.2.</strong> JoyStream</a></li><li><a href="../dao/edgeware.html"><strong aria-hidden="true">9.3.</strong> Edgeware</a></li></ol></li><li><a href="../did.html"><strong aria-hidden="true">10.</strong> DID</a></li><li><a href="../defi/index.html"><strong aria-hidden="true">11.</strong> DeFi</a></li><li><ol class="section"><li><a href="../defi/openbanking.html"><strong aria-hidden="true">11.1.</strong> Open Banking</a></li></ol></li><li><a href="../services/index.html"><strong aria-hidden="true">12.</strong> Services</a></li><li><ol class="section"><li><a href="../services/amazon-qldb.html"><strong aria-hidden="true">12.1.</strong> Amazon QLDB</a></li></ol></li><li><a href="../LRE.html"><strong aria-hidden="true">13.</strong> Ledger Reliability Engineering(LRE)</a></li><li><a href="../web/index.html"><strong aria-hidden="true">14.</strong> Web Tech</a></li><li><ol class="section"><li><a href="../web/extensions.html"><strong aria-hidden="true">14.1.</strong> Browser Extensiions</a></li><li><a href="../web/example-page.html"><strong aria-hidden="true">14.2.</strong> Example Pages</a></li><li><a href="../web/tls.html" class="active"><strong aria-hidden="true">14.3.</strong> TLS</a></li><li><a href="../webauthn.html"><strong aria-hidden="true">14.4.</strong> WebAuthn</a></li><li><a href="../webassembly.html"><strong aria-hidden="true">14.5.</strong> WebAssembly</a></li><li><a href="../web/openssl.html"><strong aria-hidden="true">14.6.</strong> OpenSSL</a></li></ol></li><li><a href="../k8s.html"><strong aria-hidden="true">15.</strong> Kubernetes</a></li><li><a href="../p2p.html"><strong aria-hidden="true">16.</strong> P2P</a></li><li><a href="../rust.html"><strong aria-hidden="true">17.</strong> Rust</a></li><li><a href="../plantuml.html"><strong aria-hidden="true">18.</strong> PlantUML</a></li><li><ol class="section"><li><a href="../puml/hyperledger-fabric.html"><strong aria-hidden="true">18.1.</strong> Hyperledger Fabric</a></li><li><a href="../puml/ethereum.html"><strong aria-hidden="true">18.2.</strong> Ethereum</a></li></ol></li><li><a href="../messaging.html"><strong aria-hidden="true">19.</strong> Messaging</a></li><li><a href="../mdbook/index.html"><strong aria-hidden="true">20.</strong> mdbook</a></li><li><ol class="section"><li><a href="../mdbook/preprocessors.html"><strong aria-hidden="true">20.1.</strong> preprocessors</a></li><li><a href="../mdbook/others.html"><strong aria-hidden="true">20.2.</strong> 其他</a></li></ol></li><li><a href="../resources.html"><strong aria-hidden="true">21.</strong> 學習資源</a></li><li><a href="../book.html"><strong aria-hidden="true">22.</strong> 書籍與文獻</a></li><li><a href="../job.html"><strong aria-hidden="true">23.</strong> 工作</a></li><li><a href="../appendix.html"><strong aria-hidden="true">24.</strong> 附錄</a></li><li><ol class="section"><li><a href="../cmd-help.html"><strong aria-hidden="true">24.1.</strong> 命令列 tc.sh</a></li><li><a href="../license.html"><strong aria-hidden="true">24.2.</strong> 授權條款</a></li><li><a href="../testpage.html"><strong aria-hidden="true">24.3.</strong> 測試頁面</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">DLTDOJO3 第三新熵熱踢道場</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#transport-layer-security-tls" id="transport-layer-security-tls">Transport Layer Security (TLS)</a></h1>
<p><a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">Transport Layer Security - Wikipedia</a></p>
<h1><a class="header" href="#toc" id="toc">TOC</a></h1>
<ul>
<li><a href="#protocol">Protocol</a>
<ul>
<li><a href="#dns-over-https-doh">DNS-over-HTTPS (DoH)</a></li>
<li><a href="#liberating-web-data-using-decentralized-oracles-for-tls-deco">Liberating Web Data Using Decentralized Oracles for TLS (DECO)</a></li>
</ul>
</li>
<li><a href="#tools">Tools</a></li>
<li><a href="#todo">TODO</a>
<ul>
<li><a href="#tls-session-key-log">TLS Session Key Log</a></li>
</ul>
</li>
</ul>
<h1><a class="header" href="#protocol" id="protocol">Protocol</a></h1>
<h2><a class="header" href="#dns-over-https-doh" id="dns-over-https-doh">DNS-over-HTTPS (DoH)</a></h2>
<ul>
<li><a href="https://hacks.mozilla.org/2018/05/a-cartoon-intro-to-dns-over-https/">A cartoon intro to DNS over HTTPS</a></li>
<li><a href="https://blog.synology.com/dns-over-https/">DNS over HTTPS: things to consider when you go private</a></li>
<li><a href="https://ithome.com.tw/news/132939">Firefox將預設啟用DNS-over-HTTPS</a></li>
<li><a href="https://blog.twnic.net.tw/2019/06/25/4125/">DNS的未來？—談DNS-over-HTTPS及其對網路治理的意涵</a></li>
<li><a href="https://en.wikipedia.org/wiki/Namecoin">Namecoin</a></li>
<li><a href="https://github.com/ensdomains">Ethereum Name Service</a></li>
</ul>
<p><img src="../puml/tpl-doh-dns-https-v1.svg" alt="tpl-doh-dns-https-v1.svg" /></p>
<h2><a class="header" href="#liberating-web-data-using-decentralized-oracles-for-tls-deco" id="liberating-web-data-using-decentralized-oracles-for-tls-deco">Liberating Web Data Using Decentralized Oracles for TLS (DECO)</a></h2>
<blockquote>
<p>At a high level, the prover commits to a piece of data D and proves to the verifier that D came from a TLS serverSand optionally a statement πD about D. E.g., in the exampleof proving age, the statement πD could be the predicate “D=y/m/dis Alice’s date of birth andy−2019&gt;18.”</p>
</blockquote>
<p><a href="https://www.deco.works/">DECentralized Oracles DECO</a> 目前還未開源，概念是 TLS 未完待續來個三方握手，這作法對網頁服務端透明不須做另外設置，代表網頁服務端須清楚確認內容並負責任，不過對於使用者的體驗來看可直接用滑鼠選擇要證明會更方便，因為這樣可同時將外來聚合 ajax 內容納入內容來源證明裡，只要最終引入合成在瀏覽器頁面裡面的都可用瀏覽器地址上面那個 TLS 鎖頭掛的網頁服務端憑證，來證明這網頁與連帶引入的資源都由該鎖頭而起。只是當時簽發服務端憑證範圍只是認 CN 對上網域有效性，現要衍生到後面的內容存在性簽章是否有其效力待觀察。</p>
<p><img src="../images/tls-certs-content-v190916.png" alt="tls-certs-content-v190916.png" /></p>
<p><a href="http://hackingdistributed.com/2019/09/03/DECO/">Liberating web data using DECO, a privacy-preserving oracle protocol</a> 與 <a href="https://law.moj.gov.tw/LawClass/LawSingle.aspx?pcode=J0080037&amp;flno=10">電子簽章法§10-全國法規資料庫</a> 的交互作用值得探索。</p>
<pre><code>第 10 條 以數位簽章簽署電子文件者，應符合下列各款規定，始生前條第一項之效力：
  一、使用經第十一條核定或第十五條許可之憑證機構依法簽發之憑證。
  二、憑證尚屬有效並未逾使用範圍。
</code></pre>
<h1><a class="header" href="#tools" id="tools">Tools</a></h1>
<ul>
<li><a href="https://github.com/secdev/scapy/tree/master/doc/notebooks/tls">Scapy: the Python-based interactive packet manipulation program &amp; library. Supports Python 2 &amp; Python 3.  scapy/doc/notebooks/tls at master · secdev/scapy</a></li>
</ul>
<h1><a class="header" href="#todo" id="todo">TODO</a></h1>
<h2><a class="header" href="#tls-session-key-log" id="tls-session-key-log">TLS Session Key Log</a></h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/Key_Log_Format">NSS Key Log Format - Mozilla | MDN</a></p>
<blockquote>
<p>Key logs can be written by NSS so that external programs can decrypt TLS connections. Wireshark 1.6.0 and above can use these log files to decrypt packets. You can tell Wireshark where to find the key file via Edit→Preferences→Protocols→SSL→(Pre)-Master-Secret log filename.</p>
</blockquote>
<p><a href="https://github.com/envoyproxy/envoy/issues/7795">Support for NSS's SSLKEYLOGFILE to be able to decrypt TLS traffic with TLS_ECDHE* ciphers · Issue #7795 · envoyproxy/envoy</a></p>
<blockquote>
<p>OpenSSL/BoringSSL applications (browsers, curl, etc) often support logging the pre-master secrets into a file by setting the SSLKEYLOGFILE environment variable. The logfile can then be easily imported into tools like Wireshark to decrypt TLS on the fly.</p>
</blockquote>
<p><a href="https://www.envoyproxy.io/docs/envoy/latest/operations/traffic_tapping">Traffic tapping — envoy 1.12.0-dev-358793 documentation</a></p>
<blockquote>
<p>The tap transport socket supports both buffered and streaming, controlled by the streaming setting. When buffering, SocketBufferedTrace messages are emitted. When streaming, a series of SocketStreamedTraceSegment are emitted.</p>
</blockquote>
<ul>
<li><a href="https://github.com/loadimpact/k6/issues/1043">Support dumping of crypto keys to an nss formated key log file · Issue #1043 · loadimpact/k6</a></li>
<li><a href="https://github.com/brave/brave-browser/issues/3479">Disable BoringSSL TLS Key Logging SSLKEYLOGFILE · Issue #3479 · brave/brave-browser</a></li>
<li><a href="https://github.com/ctz/rustls/pull/171">Add support for the SSLKEYLOGFILE environment variable by djc · Pull Request #171 · ctz/rustls</a></li>
<li><a href="https://github.com/curl/curl/issues/2210">No way to set ENABLE_SSLKEYLOGFILE · Issue #2210 · curl/curl</a></li>
<li><a href="https://github.com/eclipse/mosquitto/issues/632">Feature Request: Log TLS Session Keys · Issue #632 · eclipse/mosquitto</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../web/example-page.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../webauthn.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../web/example-page.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../webauthn.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
